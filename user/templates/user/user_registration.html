{% load static %}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registration Page</title>
<title>Registration Page</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'user/css/user_registration.css' %}">

<script src="{% static 'user/javascript/user_registration.js' %}"></script>

{% if messages %}
{% for message in messages %}
<div class="alert {{ message.tags }} alert-dismissible shadow fade show" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    {{ message | safe }}
</div>
{% endfor %}
{% for message in messages %}
<div class="alert {{ message.tags }} alert-dismissible shadow fade show" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    {{ message | safe }}
</div>
{% endfor %}
{% endif %}

<div class="registration-container">
    <div class="registration-box" id="registration-box">
        <h1 class="text-center"><span>FitOn</span> User Registration</h1>
        <form id="registrationForm" method="POST" action="{% url "user:user_registration" %}">
            {% csrf_token %}
            <div id="user_details_section">
                <div class="form-group">
                    <input type="text" name="user_name" id="name" required placeholder=" ">
                    <label for="name">Name</label>
                </div>
                <div class="form-group">
                    <input type="email" name="user_email" id="email" required placeholder=" ">
                    <label for="email">Email</label>
                </div>
                <div class="form-group">
                    <label class="select-label" for="sex">Sex</label>
                    <select class="custom-select select-transparent" id="sex" name="user_sex" required>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="number" id="height" name="height" required placeholder=" ">
                    <label for="height">Height</label>
                    <select class="custom-select select-transparent" id="height_unit" name="height_unit">
                        <option value="cm">CM</option>
                        <option value="ft_in">FT/IN</option>
                    </select>
                    <div id="ftInFields" style="display: none;">
                        <input type="number" id="inches" name="inches" placeholder=" ">
                    </div>
                </div>
                <div class="form-group">
                    <input type="number" id="weight" name="weight" required placeholder=" ">
                    <label for="weight">Weight</label>
                    <select class="custom-select select-transparent" id="weight_unit" name="weight_unit">
                        <option value="kg">KG</option>
                        <option value="lb">LB</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="text" name="user_phone" id="phone" required oninput="formatPhoneNumber(this)">
                    <label for="phone">Phone Number</label>
                    <span id="phoneError" class="error-message"></span>
                </div>
                <div class="form-group">
                    <input type="text" id="city" name="city" placeholder=" " required>
                    <label for="city">City</label>
                </div>
    
                <button type="button" onclick="showPasswordFields()" id="continueButton">Continue</button>
                <p>Already have an account? <a href="{% url "user:login" %}" class="login">Login here</a></p>
            </div>
    
            <div class="hidden" id="passwordFields">
                <div class="form-group">
                    <input type="password" id="password" name="password" onkeyup="checkPassword()" placeholder=" ">
                    <label for="password">Password</label>
                </div>
                <div class="form-group">
                    <input type="password" id="confirm-password" onkeyup="checkPassword()" placeholder=" ">
                    <label for="confirm-password">Confirm Password</label>
                </div>
                <label id="password_status"> </label>
                <div class="form-group">
                    <button type="submit" disabled id="btn_register_user">Register</button>
                </div>
            </div>
    
        </form>
    </div>
</div>